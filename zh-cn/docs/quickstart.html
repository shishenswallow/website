<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="keywords" content="quickstart" />
    <meta name="description" content="quickstart" />
    <!-- 网页标签标题 -->
    <title>quickstart</title>
    <link rel="shortcut icon" href="/img/favicon.ico"/>
    <link rel="stylesheet" href="/build/documentation.css" />
  </head>
  <body>
    <div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="https://img.alicdn.com/tfs/TB1ThlOucfpK1RjSZFOXXa6nFXa-266-72.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/zh-cn/docs/overview/what_is_dragonfly.html" target="_self">文档</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/community/index.html" target="_self">社区</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="https://img.alicdn.com/tfs/TB1sfAnt9zqK1RjSZFHXXb3CpXa-160-160.png" class="front-img"/><span>文档</span><img src="https://img.alicdn.com/tfs/TB1sfAnt9zqK1RjSZFHXXb3CpXa-160-160.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>Dragonfly</span><ul><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>概述<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/overview/what_is_dragonfly.html" target="_self">什么是 Dragonfly？</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/overview/terminology.html" target="_self">术语表</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/quickstart.html" target="_self">快速开始</a></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>使用指南<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/userguide/install_server.html" target="_self">安装服务端</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/userguide/install_client.html" target="_self">安装客户端</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/userguide/download_files.html" target="_self">下载文件</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/userguide/supernode_configuration.html" target="_self">超级节点配置</a></li></ul></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>CLI 参考<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/cli_ref/dfdaemon.html" target="_self">dfdaemon</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/cli_ref/dfget.html" target="_self">dfget</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/api.html" target="_self">API 参考</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/faq.html" target="_self">常见问题</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Dragonfly Quick Start</h1>
<p>In this quick start guide, you will get a feeling of Dragonfly by starting a <a href="overview/terminology.md">SuperNode</a> (the server) in your Docker container, installing the Dragonfly client (the client), and then downloading a container image and a general file, which are likely what you'll be doing frequently in your use case.</p>
<h2>Prerequisites</h2>
<p>You have started your Docker container.</p>
<h2>Step 1: Starting a SuperNode (the Server) in Your Docker Container</h2>
<ol>
<li>
<p>Pull the docker image we provided.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Replace ${imageName} with the real image name</span>
docker pull <span class="hljs-variable">${imageName}</span>
</code></pre>
<p><strong>Note:</strong> Choose one of the images we provide according to your geo-location, and replace <code>${imageName}</code> with it:</p>
<ul>
<li>China: <code>registry.cn-hangzhou.aliyuncs.com/alidragonfly/supernode:0.2.0</code></li>
<li>US: <code>registry.us-west-1.aliyuncs.com/alidragonfly/supernode:0.2.0</code></li>
</ul>
</li>
<li>
<p>Start a SuperNode.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Replace ${imageName} with the real image name</span>
docker run -d -p 8001:8001 -p 8002:8002 <span class="hljs-variable">${imageName}</span>
</code></pre>
</li>
</ol>
<p>For example, if you're in China, run the following commands:</p>
<pre><code class="language-bash">docker pull registry.cn-hangzhou.aliyuncs.com/alidragonfly/supernode:0.2.0

docker run -d -p 8001:8001 -p 8002:8002 registry.cn-hangzhou.aliyuncs.com/alidragonfly/supernode:0.2.0
</code></pre>
<h2>Step 2: Installing Dragonfly Client</h2>
<p>You have two options of installing Dragonfly client: installing from source code, or installing by pulling the image.</p>
<h3>Option 1: Installing from Source Code</h3>
<ol>
<li>
<p>Download a package of the client.</p>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> <span class="hljs-variable">$HOME</span>
<span class="hljs-comment"># Replace ${package} with a package appropriate for your operating system and location</span>
wget <span class="hljs-variable">${package}</span>
</code></pre>
<p><strong>Note:</strong> Choose one of the packages we provide according to your geo-location, and replace <code>${package}</code> with it:</p>
<ul>
<li>
<p>If you're in China:</p>
<ul>
<li>
<p><a href="http://dragonfly-os.oss-cn-beijing.aliyuncs.com/df-client_0.2.0_linux_amd64.tar.gz">Linux 64-bit</a>: <code>http://dragonfly-os.oss-cn-beijing.aliyuncs.com/df-client_0.2.0_linux_amd64.tar.gz</code></p>
</li>
<li>
<p><a href="http://dragonfly-os.oss-cn-beijing.aliyuncs.com/df-client_0.2.0_darwin_amd64.tar.gz">MacOS 64-bit</a>: <code>http://dragonfly-os.oss-cn-beijing.aliyuncs.com/df-client_0.2.0_darwin_amd64.tar.gz</code></p>
</li>
</ul>
</li>
<li>
<p>If you're not in China:</p>
<ul>
<li>
<p><a href="https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.0/df-client_0.2.0_linux_amd64.tar.gz">Linux 64-bit</a>: <code>https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.0/df-client_0.2.0_linux_amd64.tar.gz</code></p>
</li>
<li>
<p><a href="https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.0/df-client_0.2.0_darwin_amd64.tar.gz">MacOS 64-bit</a>: <code>https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.0/df-client_0.2.0_darwin_amd64.tar.gz</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Unzip the package.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Replace ${package} with a package appropriate for your operating system and location</span>
tar -zxf <span class="hljs-variable">${package}</span>
</code></pre>
</li>
<li>
<p>Add the directory of <code>df-client</code> to your <code>PATH</code> environment variable to make sure you can directly use <code>dfget</code> and <code>dfdaemon</code> command.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Execute or add this line to ~/.bashrc</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HOME</span>/df-client/
</code></pre>
</li>
</ol>
<p>For example, if you're in China and using Linux, run the following commands:</p>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> <span class="hljs-variable">$HOME</span>
wget http://dragonfly-os.oss-cn-beijing.aliyuncs.com/df-client_0.2.0_linux_amd64.tar.gz
tar -zxf df-client_0.2.0_linux_amd64.tar.gz
<span class="hljs-comment"># execute or add this line to ~/.bashrc</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HOME</span>/df-client/
</code></pre>
<h3>Option 2: Installing by Pulling the Image</h3>
<ol>
<li>
<p>Pull the docker image we provided.</p>
<pre><code class="language-bash">docker pull dragonflyoss/dfclient:v0.3.0_dev
</code></pre>
</li>
<li>
<p>Start dfdaemon.</p>
<pre><code class="language-bash">docker run -d -p 65001:65001 dragonflyoss/dfclient:v0.3.0_dev --registry https://xxx.xx.x
</code></pre>
</li>
<li>
<p>Configure the Daemon Mirror.</p>
<p>a. Modify the configuration file <code>/etc/docker/daemon.json</code>.</p>
<pre><code class="language-sh">vi /etc/docker/daemon.json
</code></pre>
<p><strong>Tip:</strong> For more information on <code>/etc/docker/daemon.json</code>, see <a href="https://docs.docker.com/registry/recipes/mirror/#configure-the-cache">Docker documentation</a>.</p>
<p>b. Add or update the configuration item <code>registry-mirrors</code> in the configuration file.</p>
<pre><code class="language-sh"><span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"http://127.0.0.1:65001"</span>]
</code></pre>
<p>c. Restart Docker daemon.</p>
<pre><code class="language-bash">systemctl restart docker
</code></pre>
</li>
</ol>
<h2>Step 3: Downloading Images or Files</h2>
<p>Now that you have started your SuperNode, and installed Dragonfly client, you can start downloading images or general files, both of which are supported by Dragonfly, but with slightly different downloading methods.</p>
<h3>Use Case 1: Downloading a General File with Dragonfly</h3>
<p>Once you have installed the Dragonfly client, you can use the <code>dfget</code> command to download a file.</p>
<pre><code class="language-bash">dfget -u <span class="hljs-string">'https://github.com/dragonflyoss/Dragonfly/blob/master/docs/images/logo.png'</span> -o /tmp/logo.png
</code></pre>
<p><strong>Tip:</strong> For more information on the dfget command, see <a href="cli_ref/dfget.md">dfget</a>.</p>
<h3>Use Case 2: Pulling an Image with Dragonfly</h3>
<ol>
<li>
<p>Start <code>dfdaemon</code> with a specified registry, such as <code>https://index.docker.io</code>.</p>
<pre><code class="language-bash">nohup dfdaemon --registry https://index.docker.io &gt; /dev/null 2&gt;&amp;1 &amp;
</code></pre>
</li>
<li>
<p>Add the following line to the dockerd configuration file <a href="https://docs.docker.com/registry/recipes/mirror/#configure-the-docker-daemon">/etc/docker/daemon.json</a>.</p>
<pre><code class="language-json">"registry-mirrors": ["http://127.0.0.1:65001"]
</code></pre>
</li>
<li>
<p>Restart dockerd.</p>
<pre><code class="language-bash">systemctl restart docker
</code></pre>
</li>
<li>
<p>Download an image with Dragonfly.</p>
<pre><code class="language-bash">docker pull nginx:latest
</code></pre>
</li>
</ol>
<h2>Related Topics</h2>
<ul>
<li><a href="userguide/install_server.md">Installing Server</a></li>
<li><a href="userguide/install_client.md">Installing Client</a></li>
<li><a href="userguide/download_files.md">Downloading Files</a></li>
<li><a href="userguide/supernode_configuration.md">SuperNode Configuration</a></li>
<li><a href="cli_ref/dfget.md">Dfget</a></li>
</ul>
</div></section><footer class="footer-container"><div class="footer-body"><img src="https://img.alicdn.com/tfs/TB1H9Eht9zqK1RjSZPxXXc4tVXa-266-72.png"/><div class="cols-container"><div class="col col-12"><h3>愿景</h3><p>Dragonfly 致力于解决大规模文件分发的效率问题，打造容器镜像分发的第一解决方案和标准规范，并为用户提供高可用、高效率以及简单易用的文件及镜像分发服务。</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/overview/what_is_dragonfly.html" target="_self">什么是 Dragonfly？</a></dd><dd><a href="/zh-cn/docs/quickstart.html" target="_self">快速开始</a></dd><dd><a href="/en-us/docs/userguide/install_server.html" target="_self">安装服务端</a></dd><dd><a href="/en-us/docs/userguide/install_client.html" target="_self">安装客户端</a></dd><dd><a href="/en-us/docs/userguide/download_files.html" target="_self">下载文件</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/blog/index.html" target="_self">博客</a></dd><dd><a href="/zh-cn/community/index.html" target="_self">社区</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2018 dragonflyoss<!-- --> | <a href="https://www.cnzz.com/stat/website.php?web_id=1275746144" target="_blank"><img border="0" hspace="0" vspace="0" src="https://icon.cnzz.com/img/pic.gif"/></a></span></div></div></footer></div></div>
    <script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
    <script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
    <script>
      window.rootPath = '';
    </script>
    <script src="/build/documentation.js"></script>
    <script src="https://s23.cnzz.com/z_stat.php?id=1275746144&web_id=1275746144&show=none" language="JavaScript"></script>
  </body>
</html>
